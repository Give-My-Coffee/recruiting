<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Отчеты | Кадры</title>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="dashboard-styles.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="dashboard-container">
        <!-- Шапка -->
        <header class="header">
            <div class="header-left">
                <div class="logo">
                    <div class="logo-icon">R</div>
                    <span class="company-name">Кадры</span>
                </div>
            </div>
            <div class="header-right">
                <div class="search-box">
                    <i class="material-icons">search</i>
                    <input type="text" placeholder="Поиск отчетов...">
                </div>
                <button class="settings-btn">
                    <i class="material-icons">settings</i>
                </button>
            </div>
        </header>

        <div class="main-content">
            <!-- Боковое меню -->
            <aside class="sidebar menu">
                <div class="menu-section">
                    <a href="index.html" class="menu-item">
                        <i class="material-icons">home</i>
                        <span>Главная страница</span>
                    </a>
                    <a href="tasks.html" class="menu-item">
                        <i class="material-icons">assignment</i>
                        <span>Задачи</span>
                    </a>
                    <a href="calendar.html" class="menu-item">
                        <i class="material-icons">calendar_today</i>
                        <span>Календарь</span>
                    </a>
                    <a href="candidate-dashboard.html" class="menu-item">
                        <i class="material-icons">work</i>
                        <span>Вакансии</span>
                    </a>
                    <a href="employees.html" class="menu-item">
                        <i class="material-icons">people</i>
                        <span>Сотрудники</span>
                    </a>
                    <a href="interviews.html" class="menu-item">
                        <i class="material-icons">record_voice_over</i>
                        <span>Интервью</span>
                    </a>
                    <a href="reports.html" class="menu-item active">
                        <i class="material-icons">assessment</i>
                        <span>Отчёты</span>
                    </a>
                </div>
            </aside>

            <div class="content-area">
                <!-- Верхнее меню разделов -->
                <div class="section-menu">
                    <div class="section-tab active" data-section="overview">Обзор</div>
                    <div class="section-tab" data-section="hiring">Найм</div>
                    <div class="section-tab" data-section="sources">Источники</div>
                    <div class="section-tab" data-section="time">Временные метрики</div>
                    <div class="section-tab" data-section="team">Команда</div>
                    <div class="date-range-picker">
                        <i class="material-icons">date_range</i>
                        <span>1 июн - 30 июн 2023</span>
                        <i class="material-icons">arrow_drop_down</i>
                    </div>
                </div>

                <!-- Основные метрики -->
                <div class="metrics-grid">
                    <div class="metric-card">
                        <div class="metric-value">24</div>
                        <div class="metric-label">Новых кандидатов</div>
                        <div class="metric-change positive">
                            <i class="material-icons">trending_up</i>
                            <span>12%</span>
                        </div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value">8</div>
                        <div class="metric-label">Проведено интервью</div>
                        <div class="metric-change negative">
                            <i class="material-icons">trending_down</i>
                            <span>5%</span>
                        </div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value">3</div>
                        <div class="metric-label">Нанятых сотрудников</div>
                        <div class="metric-change positive">
                            <i class="material-icons">trending_up</i>
                            <span>20%</span>
                        </div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value">14.5</div>
                        <div class="metric-label">Среднее время найма (дн)</div>
                        <div class="metric-change positive">
                            <i class="material-icons">trending_up</i>
                            <span>8%</span>
                        </div>
                    </div>
                </div>

                <!-- Графики и диаграммы -->
                <div class="charts-container">
                    <div class="chart-card">
                        <div class="chart-header">
                            <h3>Кандидаты по статусам</h3>
                            <div class="chart-legend">
                                <div class="legend-item">
                                    <span class="legend-color" style="background-color: #4C8BF5;"></span>
                                    <span>Новые</span>
                                </div>
                                <div class="legend-item">
                                    <span class="legend-color" style="background-color: #FFA726;"></span>
                                    <span>В процессе</span>
                                </div>
                                <div class="legend-item">
                                    <span class="legend-color" style="background-color: #66BB6A;"></span>
                                    <span>Приняты</span>
                                </div>
                                <div class="legend-item">
                                    <span class="legend-color" style="background-color: #EF5350;"></span>
                                    <span>Отклонены</span>
                                </div>
                            </div>
                        </div>
                        <div class="chart-wrapper">
                            <canvas id="candidatesChart"></canvas>
                        </div>
                    </div>

                    <div class="chart-card">
                        <div class="chart-header">
                            <h3>Источники кандидатов</h3>
                        </div>
                        <div class="chart-wrapper">
                            <canvas id="sourcesChart"></canvas>
                        </div>
                    </div>
                </div>

                <!-- Дополнительные отчеты -->
                <div class="reports-grid">
                    <div class="report-card">
                        <div class="report-header">
                            <h3>Эффективность вакансий</h3>
                            <button class="export-btn">
                                <i class="material-icons">file_download</i>
                            </button>
                        </div>
                        <div class="report-table">
                            <table>
                                <thead>
                                    <tr>
                                        <th>Вакансия</th>
                                        <th>Кандидаты</th>
                                        <th>Интервью</th>
                                        <th>Найм</th>
                                        <th>Конверсия</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>Frontend-разработчик</td>
                                        <td>12</td>
                                        <td>5</td>
                                        <td>1</td>
                                        <td>8.3%</td>
                                    </tr>
                                    <tr>
                                        <td>UX/UI дизайнер</td>
                                        <td>8</td>
                                        <td>3</td>
                                        <td>1</td>
                                        <td>12.5%</td>
                                    </tr>
                                    <tr>
                                        <td>Backend-разработчик</td>
                                        <td>15</td>
                                        <td>6</td>
                                        <td>1</td>
                                        <td>6.7%</td>
                                    </tr>
                                    <tr>
                                        <td>Менеджер проектов</td>
                                        <td>5</td>
                                        <td>2</td>
                                        <td>0</td>
                                        <td>0%</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <div class="report-card">
                        <div class="report-header">
                            <h3>Активность рекрутеров</h3>
                            <button class="export-btn">
                                <i class="material-icons">file_download</i>
                            </button>
                        </div>
                        <div class="report-table">
                            <table>
                                <thead>
                                    <tr>
                                        <th>Рекрутер</th>
                                        <th>Кандидаты</th>
                                        <th>Интервью</th>
                                        <th>Найм</th>
                                        <th>Среднее время</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>Иванова А.П.</td>
                                        <td>18</td>
                                        <td>7</td>
                                        <td>2</td>
                                        <td>12.3 дн</td>
                                    </tr>
                                    <tr>
                                        <td>Петров С.И.</td>
                                        <td>12</td>
                                        <td>5</td>
                                        <td>1</td>
                                        <td>15.7 дн</td>
                                    </tr>
                                    <tr>
                                        <td>Сидорова М.К.</td>
                                        <td>10</td>
                                        <td>4</td>
                                        <td>0</td>
                                        <td>18.2 дн</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <style>
        /* Основные стили для страницы отчетов */
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            margin-bottom: 25px;
        }
        
        .metric-card {
            background-color: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
            border: 1px solid #e2e8f0;
            display: flex;
            flex-direction: column;
        }
        
        .metric-value {
            font-size: 32px;
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 5px;
        }
        
        .metric-label {
            font-size: 14px;
            color: #718096;
            margin-bottom: 10px;
        }
        
        .metric-change {
            display: flex;
            align-items: center;
            gap: 5px;
            font-size: 13px;
            margin-top: auto;
        }
        
        .metric-change.positive {
            color: #38a169;
        }
        
        .metric-change.negative {
            color: #e53e3e;
        }
        
        .date-range-picker {
            display: flex;
            align-items: center;
            gap: 5px;
            padding: 8px 12px;
            border-radius: 6px;
            border: 1px solid #e2e8f0;
            background-color: white;
            cursor: pointer;
            font-size: 14px;
            margin-left: auto;
        }
        
        .date-range-picker:hover {
            background-color: #f7fafc;
        }
        
        /* Стили для графиков */
        .charts-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 25px;
        }
        
        .chart-card {
            background-color: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
            border: 1px solid #e2e8f0;
        }
        
        .chart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .chart-header h3 {
            font-size: 16px;
            color: #2d3748;
        }
        
        .chart-legend {
            display: flex;
            gap: 15px;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 5px;
            font-size: 13px;
            color: #718096;
        }
        
        .legend-color {
            width: 12px;
            height: 12px;
            border-radius: 3px;
        }
        
        .chart-wrapper {
            height: 250px;
            position: relative;
        }
        
        /* Стили для табличных отчетов */
        .reports-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 20px;
        }
        
        .report-card {
            background-color: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
            border: 1px solid #e2e8f0;
        }
        
        .report-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .report-header h3 {
            font-size: 16px;
            color: #2d3748;
        }
        
        .export-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            border: none;
            background-color: #f7fafc;
            cursor: pointer;
            color: #718096;
        }
        
        .export-btn:hover {
            background-color: #ebf8ff;
            color: #2b6cb0;
        }
        
        .report-table {
            overflow-x: auto;
        }
        
        .report-table table {
            width: 100%;
            border-collapse: collapse;
        }
        
        .report-table th, .report-table td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #e2e8f0;
            font-size: 14px;
        }
        
        .report-table th {
            color: #718096;
            font-weight: 500;
            background-color: #f7fafc;
        }
        
        .report-table tr:hover td {
            background-color: #f7fafc;
        }
        
        @media (max-width: 1200px) {
            .metrics-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .charts-container {
                grid-template-columns: 1fr;
            }
        }
        
        @media (max-width: 768px) {
            .metrics-grid {
                grid-template-columns: 1fr;
            }
            
            .section-menu {
                flex-wrap: wrap;
            }
            
            .date-range-picker {
                margin-left: 0;
                margin-top: 10px;
                width: 100%;
                justify-content: center;
            }
        }
    </style>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Инициализация графиков
            const candidatesCtx = document.getElementById('candidatesChart').getContext('2d');
            const candidatesChart = new Chart(candidatesCtx, {
                type: 'bar',
                data: {
                    labels: ['Янв', 'Фев', 'Мар', 'Апр', 'Май', 'Июн'],
                    datasets: [
                        {
                            label: 'Новые',
                            data: [15, 18, 20, 22, 19, 24],
                            backgroundColor: '#4C8BF5',
                            borderRadius: 4
                        },
                        {
                            label: 'В процессе',
                            data: [8, 10, 12, 9, 11, 14],
                            backgroundColor: '#FFA726',
                            borderRadius: 4
                        },
                        {
                            label: 'Приняты',
                            data: [2, 3, 4, 2, 3, 3],
                            backgroundColor: '#66BB6A',
                            borderRadius: 4
                        },
                        {
                            label: 'Отклонены',
                            data: [5, 5, 4, 7, 5, 7],
                            backgroundColor: '#EF5350',
                            borderRadius: 4
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        x: {
                            stacked: true,
                            grid: {
                                display: false
                            }
                        },
                        y: {
                            stacked: true,
                            beginAtZero: true,
                            ticks: {
                                stepSize: 5
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        },
                        tooltip: {
                            mode: 'index',
                            intersect: false
                        }
                    }
                }
            });
            
            const sourcesCtx = document.getElementById('sourcesChart').getContext('2d');
            const sourcesChart = new Chart(sourcesCtx, {
                type: 'doughnut',
                data: {
                    labels: ['HH.ru', 'LinkedIn', 'Рекомендации', 'Сайт компании', 'Другие'],
                    datasets: [{
                        data: [35, 25, 20, 15, 5],
                        backgroundColor: [
                            '#4C8BF5',
                            '#FFA726',
                            '#66BB6A',
                            '#EF5350',
                            '#A0AEC0'
                        ],
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'right',
                            labels: {
                                boxWidth: 12,
                                padding: 20
                            }
                        }
                    },
                    cutout: '70%'
                }
            });
            
            // Переключение между разделами
            const sectionTabs = document.querySelectorAll('.section-tab');
            sectionTabs.forEach(tab => {
                tab.addEventListener('click', function() {
                    sectionTabs.forEach(t => t.classList.remove('active'));
                    this.classList.add('active');
                    // Здесь можно добавить логику загрузки соответствующего контента
                });
            });
            
            // Обработка экспорта отчетов
            const exportButtons = document.querySelectorAll('.export-btn');
            exportButtons.forEach(button => {
                button.addEventListener('click', function() {
                    // Логика экспорта данных
                    alert('Экспорт данных в выбранном формате');
                });
            });
        });
    </script>
</body>
</html>